---
title: '[What] Effective Modern C++ ：为重载函数增加 override 关键字'
tags: 
- c++
categories: 
- language
- c/c++
- Effective
layout: true
---
当子类重载了父类的虚函数时，明确写出`override`关键字是个好习惯。
<!--more-->

# 满足多态的条件

在 cpp 中，要使多态生效，那么必须满足下面这些条件：

1. 基类中的方法必须是虚方法（`virtual`）
2. 派生类的方法必须与基类虚方法名称及参数保持一致
3. 派生类的方法的`const`限定也必须与基类虚方法保持一致
4. 派生类的方法的返回类型必须与基类虚方法的返回保持**兼容**

到了 c++11 还增加了以下一个条件：

1. 基类中的方法的引用限定必须与基类虚方法保持一致

以上 5 个条件必须都要满足，所以在重载父类虚函数时，一定要多加审查。

# 为什么需要加 `override`?

根据上面的满足条件来看，我们平时是很容易写错的，并且编译器并不会报错。

但如果在方法声明后增加了`override`关键字，编译器可以代我们完成检查。

假设以后基类的虚函数这些元素发生了变化，编译器也可以帮我们检查。