#+TITLE: [What]RF --> use experience

- [[#仪表使用][仪表使用]]
  + [[#如何测量芯片的相噪][如何测量芯片的相噪]]
- [[#芯片操作][芯片操作]]
  + [[#PLL][PLL]]


* 仪表使用
*** 如何测量芯片的相噪
由于振荡器不是理想的器件,所以其输出频率其实是会有波动的,这个波动就称为相噪（相位噪声）。

相位噪声通常定义为在某一给定偏移处的 dBc/Hz 的值, dBc 代表以dB为单位的该频率处功率与总功率的比值.
也就是说,代表一个振荡器在该频率处 1Hz 带宽内的信号功率与信号的总功率的比值.

测量步骤：
1. 得到当前输出的噪声减去信号的差值,例如值为 -50dB.
2. 将差值减去当前的RBW(Resolution Bandwidth), 比如RBW为1KHz(30dB),那么相躁就为 -80dBc/Hz.
* 芯片操作
** PLL
PLL芯片的控制操作与其他普通芯片的控制并没有什么不同，但有几点需要注意：
- PLL的锁定时间以及相噪与环路滤波器和电荷泵电流息息相关
  + 环路滤波器一般需要先使用官方软件仿真（相位波动控制在45°～60°之间,带宽控制在 200KHz ~ 300KHz 之间）
  + 电荷泵电流一般由程序控制，需要与仿真软件设置的值一致
  + 鉴相频率（PFD）也需要与仿真软件保持一致
- 为了提高锁定时间，很多时候需要使用到芯片的手动校准功能
  + 基本原理是将自动校准得出的校准值先保存下来，下次使用相近频率时直接调用校准值即可
- 如果布板不良或者是输出电路阻抗匹配不好，那么有可能会导致锁定不稳定
  + 解决办法一般是调整电荷泵电流